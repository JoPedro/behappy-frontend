{"ast":null,"code":"import _classCallCheck from \"/home/aluno/JoPedro/behappy-frontend/node_modules/.registry.npmjs.org/@babel/runtime/7.3.1/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/aluno/JoPedro/behappy-frontend/node_modules/.registry.npmjs.org/@babel/runtime/7.3.1/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/aluno/JoPedro/behappy-frontend/node_modules/.registry.npmjs.org/@babel/runtime/7.3.1/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/aluno/JoPedro/behappy-frontend/node_modules/.registry.npmjs.org/@babel/runtime/7.3.1/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/aluno/JoPedro/behappy-frontend/node_modules/.registry.npmjs.org/@babel/runtime/7.3.1/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/aluno/JoPedro/behappy-frontend/src/components/NewUser/NewUser.js\";\nimport React, { Component } from \"react\";\nimport Label from \"../Label\";\nimport Input from \"../Input\";\nimport GenderSelector from \"../GenderSelector\";\nimport Button from \"../Button\";\nimport Toast from \"../Toast\";\nimport ImageScroller from \"../ImageScroller\";\nimport User from \"../../models/User\";\nimport Avatar from \"../../models/Avatar\";\n\nvar NewUser =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(NewUser, _Component);\n\n  function NewUser(props) {\n    var _this;\n\n    _classCallCheck(this, NewUser);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(NewUser).call(this, props));\n\n    _this.updateUserName = function (event) {\n      var user = _this.state.user;\n      user.name = event.target.value;\n\n      _this.setState({\n        user: user\n      });\n    };\n\n    _this.updateUserGender = function (event, gender) {\n      event.preventDefault();\n      var user = _this.state.user;\n      user.gender = gender;\n      user.avatar = Avatar.getAll()[0];\n\n      _this.setState({\n        user: user\n      });\n    };\n\n    _this.valid = function (e) {\n      e.preventDefault();\n      var user = _this.state.user;\n      var validation = _this.state.validation;\n      validation.invalidName = !user.validName();\n      validation.invalidGender = !user.validGender();\n      var message = \"\";\n      var completedFirstView = false;\n\n      if (validation.invalidName && validation.invalidGender) {\n        message = \"Por favor, informe seu nome e gênero!!!\";\n      } else if (validation.invalidName) {\n        message = \"Por favor, informe seu nome!!!\";\n      } else if (validation.invalidGender) {\n        message = \"Por favor, selecione seu gênero!!!\";\n      } else {\n        completedFirstView = true;\n      }\n\n      if (!completedFirstView) {\n        _this.props.error(message);\n      }\n\n      _this.setState({\n        validation: validation,\n        completedFirstView: completedFirstView\n      });\n    };\n\n    _this.state = {\n      user: new User(),\n      validation: {\n        invalidName: false,\n        invalidGender: false\n      },\n      completedFirstView: false\n    };\n    return _this;\n  }\n\n  _createClass(NewUser, [{\n    key: \"renderName\",\n    value: function renderName() {\n      return React.createElement(\"section\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(Label, {\n        htmlFor: \"name\",\n        text: \"Quem \\xE9 voc\\xEA?\",\n        invalidValue: this.state.validation.invalidName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }), React.createElement(Input, {\n        id: \"name\",\n        placeholder: \"Digite seu nome\",\n        maxLength: \"40\",\n        readOnly: this.state.completedFirstView,\n        invalidValue: this.state.validation.invalidName,\n        defaultValue: this.state.user.name,\n        onChange: this.updateUserName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }));\n    }\n  }, {\n    key: \"renderGender\",\n    value: function renderGender() {\n      if (this.state.completedFirstView) {\n        return null;\n      } else {\n        return React.createElement(\"section\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101\n          },\n          __self: this\n        }, React.createElement(Label, {\n          text: \"Seu g\\xEAnero:\",\n          invalidValue: this.state.validation.invalidGender,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102\n          },\n          __self: this\n        }), React.createElement(GenderSelector, {\n          invalidValue: this.state.validation.invalidGender,\n          gender: this.state.user.gender,\n          updateGender: this.updateUserGender,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106\n          },\n          __self: this\n        }));\n      }\n    }\n  }, {\n    key: \"renderButtons\",\n    value: function renderButtons() {\n      var _this2 = this;\n\n      if (this.state.completedFirstView) {\n        return React.createElement(\"section\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119\n          },\n          __self: this\n        }, React.createElement(Button, {\n          text: \"Voltar\",\n          onClick: function onClick(event) {\n            event.preventDefault();\n            var user = _this2.state.user;\n            user.avatar = Avatar.getAll()[0];\n\n            _this2.setState({\n              user: user,\n              completedFirstView: false\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120\n          },\n          __self: this\n        }), React.createElement(Button, {\n          main: true,\n          text: \"Salvar\",\n          onClick: function onClick(event) {\n            event.preventDefault();\n\n            _this2.props.onSubmit(_this2.state.user);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 132\n          },\n          __self: this\n        }));\n      } else {\n        return React.createElement(\"section\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144\n          },\n          __self: this\n        }, React.createElement(Button, {\n          main: true,\n          text: \"Pr\\xF3ximo\",\n          onClick: this.valid,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145\n          },\n          __self: this\n        }));\n      }\n    }\n  }, {\n    key: \"renderAvatar\",\n    value: function renderAvatar() {\n      var _this3 = this;\n\n      if (this.state.completedFirstView) {\n        return React.createElement(\"section\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154\n          },\n          __self: this\n        }, React.createElement(Label, {\n          text: \"Escolha seu avatar:\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155\n          },\n          __self: this\n        }), React.createElement(ImageScroller, {\n          file: \"img/avatars.png\",\n          y: this.state.user.gender === \"m\" ? 0 : 1,\n          images: Avatar.getAll(),\n          selectedImage: this.state.user.avatar,\n          onChange: function onChange(avatar) {\n            var user = _this3.state.user;\n            user.avatar = avatar;\n\n            _this3.setState({\n              user: user\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 156\n          },\n          __self: this\n        }));\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        className: \"pure-form pure-form-stacked\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, this.renderName(), this.renderGender(), this.renderAvatar(), this.renderButtons()));\n    }\n  }]);\n\n  return NewUser;\n}(Component);\n\nexport default NewUser;","map":{"version":3,"sources":["/home/aluno/JoPedro/behappy-frontend/src/components/NewUser/NewUser.js"],"names":["React","Component","Label","Input","GenderSelector","Button","Toast","ImageScroller","User","Avatar","NewUser","props","updateUserName","event","user","state","name","target","value","setState","updateUserGender","gender","preventDefault","avatar","getAll","valid","e","validation","invalidName","validName","invalidGender","validGender","message","completedFirstView","error","onSubmit","renderName","renderGender","renderAvatar","renderButtons"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\n\nimport Label from \"../Label\";\nimport Input from \"../Input\";\nimport GenderSelector from \"../GenderSelector\";\nimport Button from \"../Button\";\nimport Toast from \"../Toast\";\nimport ImageScroller from \"../ImageScroller\";\n\nimport User from \"../../models/User\";\nimport Avatar from \"../../models/Avatar\";\n\nclass NewUser extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user: new User(),\n      validation: {\n        invalidName: false,\n        invalidGender: false\n      },\n      completedFirstView: false\n    };\n  }\n\n  updateUserName = event => {\n    let user = this.state.user;\n    user.name = event.target.value;\n    this.setState({\n      user: user\n    });\n  };\n\n  updateUserGender = (event, gender) => {\n    event.preventDefault();\n    let user = this.state.user;\n    user.gender = gender;\n    user.avatar = Avatar.getAll()[0];\n    this.setState({\n      user: user\n    });\n  };\n\n  valid = e => {\n    e.preventDefault();\n    let user = this.state.user;\n    let validation = this.state.validation;\n\n    validation.invalidName = !user.validName();\n    validation.invalidGender = !user.validGender();\n\n    let message = \"\";\n    let completedFirstView = false;\n\n    if (validation.invalidName && validation.invalidGender) {\n      message = \"Por favor, informe seu nome e gênero!!!\";\n    } else if (validation.invalidName) {\n      message = \"Por favor, informe seu nome!!!\";\n    } else if (validation.invalidGender) {\n      message = \"Por favor, selecione seu gênero!!!\";\n    } else {\n      completedFirstView = true;\n    }\n\n    if (!completedFirstView) {\n      this.props.error(message);\n    }\n\n    this.setState({\n      validation: validation,\n      completedFirstView: completedFirstView\n    });\n  };\n\n  renderName() {\n    return (\n      <section>\n        <Label\n          htmlFor=\"name\"\n          text=\"Quem é você?\"\n          invalidValue={this.state.validation.invalidName}\n        />\n        <Input\n          id=\"name\"\n          placeholder=\"Digite seu nome\"\n          maxLength=\"40\"\n          readOnly={this.state.completedFirstView}\n          invalidValue={this.state.validation.invalidName}\n          defaultValue={this.state.user.name}\n          onChange={this.updateUserName}\n        />\n      </section>\n    );\n  }\n\n  renderGender() {\n    if (this.state.completedFirstView) {\n      return null;\n    } else {\n      return (\n        <section>\n          <Label\n            text=\"Seu gênero:\"\n            invalidValue={this.state.validation.invalidGender}\n          />\n          <GenderSelector\n            invalidValue={this.state.validation.invalidGender}\n            gender={this.state.user.gender}\n            updateGender={this.updateUserGender}\n          />\n        </section>\n      );\n    }\n  }\n\n  renderButtons() {\n    if (this.state.completedFirstView) {\n      return (\n        <section>\n          <Button\n            text=\"Voltar\"\n            onClick={event => {\n              event.preventDefault();\n              let user = this.state.user;\n              user.avatar = Avatar.getAll()[0];\n              this.setState({\n                user: user,\n                completedFirstView: false\n              });\n            }}\n          />\n          <Button\n            main\n            text=\"Salvar\"\n            onClick={event => {\n              event.preventDefault();\n              this.props.onSubmit(this.state.user);\n            }}\n          />\n        </section>\n      );\n    } else {\n      return (\n        <section>\n          <Button main text=\"Próximo\" onClick={this.valid} />\n        </section>\n      );\n    }\n  }\n\n  renderAvatar() {\n    if (this.state.completedFirstView) {\n      return (\n        <section>\n          <Label text=\"Escolha seu avatar:\" />\n          <ImageScroller\n            file=\"img/avatars.png\"\n            y={this.state.user.gender === \"m\" ? 0 : 1}\n            images={Avatar.getAll()}\n            selectedImage={this.state.user.avatar}\n            onChange={avatar => {\n              let user = this.state.user;\n              user.avatar = avatar;\n              this.setState({ user: user });\n            }}\n          />\n        </section>\n      );\n    } else {\n      return null;\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"center\">\n        <form className=\"pure-form pure-form-stacked\">\n          {this.renderName()}\n          {this.renderGender()}\n          {this.renderAvatar()}\n          {this.renderButtons()}\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default NewUser;\n"]},"metadata":{},"sourceType":"module"}
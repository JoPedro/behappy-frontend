{"ast":null,"code":"import _classCallCheck from \"/home/aluno/JoPedro/behappy-frontend/node_modules/.registry.npmjs.org/@babel/runtime/7.3.1/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/aluno/JoPedro/behappy-frontend/node_modules/.registry.npmjs.org/@babel/runtime/7.3.1/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nvar ManipularEvento =\n/*#__PURE__*/\nfunction () {\n  function ManipularEvento(qtdeElementos, index) {\n    _classCallCheck(this, ManipularEvento);\n\n    this.maxIndex = qtdeElementos;\n    this.index = index;\n    this.comprimentoItem = 140;\n    this.maxLeft = 86;\n    this.left = this.maxLeft;\n    this.minLeft = (qtdeElementos - 1) * this.comprimentoItem * -1 + this.maxLeft;\n    this.minIndex = 0;\n    this.direcao = 0;\n    this.deslocamento = 0;\n    this.toqueInicial = 0;\n    this.toqueAnterior = 0;\n    this.toqueEmExecucao = false;\n  }\n\n  _createClass(ManipularEvento, [{\n    key: \"definirIndex\",\n    value: function definirIndex(index) {\n      if (index >= this.minIndex && index < this.maxIndex) {\n        this.index = index;\n      }\n    }\n  }, {\n    key: \"iniciar\",\n    value: function iniciar(x) {\n      this.deslocamento = this.left;\n      this.toqueInicial = x;\n      this.toqueEmExecucao = true;\n    }\n  }, {\n    key: \"mover\",\n    value: function mover(toqueX) {\n      if (this.toqueEmExecucao) {\n        this.swipe(toqueX);\n        this.flinging(toqueX);\n        this.calcularDirecao(toqueX);\n        this.toqueAnterior = toqueX;\n      }\n    }\n  }, {\n    key: \"atualizarClique\",\n    value: function atualizarClique() {\n      this.atualizar(false);\n    }\n  }, {\n    key: \"atualizarToque\",\n    value: function atualizarToque() {\n      this.atualizar(true);\n    }\n  }, {\n    key: \"atualizar\",\n    value: function atualizar(toque) {\n      this.toqueInicial = 0;\n      this.toqueEmExecucao = false;\n      if (toque) this.corrigirIndex();\n      this.left = this.index * this.comprimentoItem * -1 + this.maxLeft;\n    }\n  }, {\n    key: \"swipe\",\n    value: function swipe(toqueX) {\n      var deltaX = toqueX - this.toqueInicial + this.deslocamento;\n\n      if (deltaX < this.minLeft) {\n        deltaX = this.minLeft;\n      } else if (deltaX > this.maxLeft) {\n        deltaX = this.maxLeft;\n      }\n\n      this.left = deltaX;\n    }\n  }, {\n    key: \"flinging\",\n    value: function flinging(toqueX) {\n      var index = Math.round(Math.abs((this.left - this.maxLeft) / this.comprimentoItem));\n      var diferenca = toqueX - this.toqueAnterior;\n      var extensaoToque = Math.abs(diferenca);\n      var bonus = 0;\n\n      if (extensaoToque < this.comprimentoItem) {\n        if (diferenca < 0) {\n          bonus = 1;\n        } else {\n          bonus = -1;\n        }\n      }\n\n      this.definirIndex(index + bonus);\n    }\n  }, {\n    key: \"calcularDirecao\",\n    value: function calcularDirecao(toqueX) {\n      if (toqueX > this.toqueAnterior) {\n        this.direcao = 1;\n      } else if (toqueX < this.toqueAnterior) {\n        this.direcao = -1;\n      } else {\n        this.direcao = 0;\n      }\n    }\n  }, {\n    key: \"corrigirIndex\",\n    value: function corrigirIndex() {\n      if (this.index === 1 && this.direcao === 1 && this.left === this.maxLeft) {\n        this.index = 0;\n      }\n\n      if (this.index === this.maxIndex - 2 && this.direcao === -1 && Math.sign(this.left) === -1) {\n        this.index = this.maxIndex - 1;\n      }\n    }\n  }]);\n\n  return ManipularEvento;\n}();\n\nexport default ManipularEvento;","map":{"version":3,"sources":["/home/aluno/JoPedro/behappy-frontend/src/components/ImageScroller/ManipularEvento.js"],"names":["ManipularEvento","qtdeElementos","index","maxIndex","comprimentoItem","maxLeft","left","minLeft","minIndex","direcao","deslocamento","toqueInicial","toqueAnterior","toqueEmExecucao","x","toqueX","swipe","flinging","calcularDirecao","atualizar","toque","corrigirIndex","deltaX","Math","round","abs","diferenca","extensaoToque","bonus","definirIndex","sign"],"mappings":"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","sourcesContent":["class ManipularEvento {\n  constructor(qtdeElementos, index) {\n    this.maxIndex = qtdeElementos;\n    this.index = index;\n\n    this.comprimentoItem = 140;\n    this.maxLeft = 86;\n    this.left = this.maxLeft;\n\n    this.minLeft =\n      (qtdeElementos - 1) * this.comprimentoItem * -1 + this.maxLeft;\n\n    this.minIndex = 0;\n    this.direcao = 0;\n    this.deslocamento = 0;\n    this.toqueInicial = 0;\n    this.toqueAnterior = 0;\n    this.toqueEmExecucao = false;\n  }\n\n  definirIndex(index) {\n    if (index >= this.minIndex && index < this.maxIndex) {\n      this.index = index;\n    }\n  }\n\n  iniciar(x) {\n    this.deslocamento = this.left;\n    this.toqueInicial = x;\n    this.toqueEmExecucao = true;\n  }\n\n  mover(toqueX) {\n    if (this.toqueEmExecucao) {\n      this.swipe(toqueX);\n      this.flinging(toqueX);\n      this.calcularDirecao(toqueX);\n      this.toqueAnterior = toqueX;\n    }\n  }\n\n  atualizarClique() {\n    this.atualizar(false);\n  }\n  atualizarToque() {\n    this.atualizar(true);\n  }\n\n  atualizar(toque) {\n    this.toqueInicial = 0;\n    this.toqueEmExecucao = false;\n    if (toque) this.corrigirIndex();\n    this.left = this.index * this.comprimentoItem * -1 + this.maxLeft;\n  }\n\n  swipe(toqueX) {\n    let deltaX = toqueX - this.toqueInicial + this.deslocamento;\n    if (deltaX < this.minLeft) {\n      deltaX = this.minLeft;\n    } else if (deltaX > this.maxLeft) {\n      deltaX = this.maxLeft;\n    }\n\n    this.left = deltaX;\n  }\n\n  flinging(toqueX) {\n    let index = Math.round(\n      Math.abs((this.left - this.maxLeft) / this.comprimentoItem)\n    );\n\n    let diferenca = toqueX - this.toqueAnterior;\n    let extensaoToque = Math.abs(diferenca);\n\n    let bonus = 0;\n    if (extensaoToque < this.comprimentoItem) {\n      if (diferenca < 0) {\n        bonus = 1;\n      } else {\n        bonus = -1;\n      }\n    }\n    this.definirIndex(index + bonus);\n  }\n\n  calcularDirecao(toqueX) {\n    if (toqueX > this.toqueAnterior) {\n      this.direcao = 1;\n    } else if (toqueX < this.toqueAnterior) {\n      this.direcao = -1;\n    } else {\n      this.direcao = 0;\n    }\n  }\n\n  corrigirIndex() {\n    if (this.index === 1 && this.direcao === 1 && this.left === this.maxLeft) {\n      this.index = 0;\n    }\n\n    if (\n      this.index === this.maxIndex - 2 &&\n      this.direcao === -1 &&\n      Math.sign(this.left) === -1\n    ) {\n      this.index = this.maxIndex - 1;\n    }\n  }\n}\n\nexport default ManipularEvento;\n"]},"metadata":{},"sourceType":"module"}